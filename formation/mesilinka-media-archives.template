{
    "Description": "(SO0146) v1.3.0: Video on Demand on AWS Foundation Solution Implementation",
    "Mappings": {
        "Send": {
            "AnonymizedUsage": {
                "Data": "Yes"
            }
        }
    },
    "Parameters": {
        "emailAddress": {
            "Type": "String",
            "AllowedPattern": "^[_A-Za-z0-9-\\+]+(\\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\\.[A-Za-z0-9]+)*(\\.[A-Za-z]{2,})$",
            "Description": "The admin email address to receive SNS notifications for job status."
        }
    },
    "Resources": {
        "Logs6819BB44": {
            "Type": "AWS::S3::Bucket",
            "Properties": {
                "AccessControl": "LogDeliveryWrite",
                "BucketEncryption": {
                    "ServerSideEncryptionConfiguration": [
                        {
                            "ServerSideEncryptionByDefault": {
                                "SSEAlgorithm": "AES256"
                            }
                        }
                    ]
                },
                "OwnershipControls": {
                    "Rules": [
                        {
                            "ObjectOwnership": "ObjectWriter"
                        }
                    ]
                },
                "PublicAccessBlockConfiguration": {
                    "BlockPublicAcls": true,
                    "BlockPublicPolicy": true,
                    "IgnorePublicAcls": true,
                    "RestrictPublicBuckets": true
                },
                "VersioningConfiguration": {
                    "Status": "Enabled"
                }
            },
            "UpdateReplacePolicy": "Retain",
            "DeletionPolicy": "Retain",
            "Metadata": {
                "cfn_nag": {
                    "rules_to_suppress": [
                        {
                            "id": "W35",
                            "reason": "Logs bucket does not require logging configuration"
                        },
                        {
                            "id": "W51",
                            "reason": "Logs bucket is private and does not require a bucket policy"
                        }
                    ]
                },
                "cdk_nag": {
                    "rules_to_suppress": [
                        {
                            "reason": "Used to store access logs for other buckets",
                            "id": "AwsSolutions-S1"
                        },
                        {
                            "reason": "Bucket is private and is not using HTTP",
                            "id": "AwsSolutions-S10"
                        }
                    ]
                },
                "AWS::CloudFormation::Designer": {
                    "id": "39f145d4-4eb3-4a58-8087-33f402ce53a8"
                }
            }
        },
        "LogsPolicy90DB40C9": {
            "Type": "AWS::S3::BucketPolicy",
            "Properties": {
                "Bucket": {
                    "Ref": "Logs6819BB44"
                },
                "PolicyDocument": {
                    "Statement": [
                        {
                            "Action": "s3:*",
                            "Condition": {
                                "Bool": {
                                    "aws:SecureTransport": "false"
                                }
                            },
                            "Effect": "Deny",
                            "Principal": {
                                "AWS": "*"
                            },
                            "Resource": [
                                {
                                    "Fn::GetAtt": [
                                        "Logs6819BB44",
                                        "Arn"
                                    ]
                                },
                                {
                                    "Fn::Join": [
                                        "",
                                        [
                                            {
                                                "Fn::GetAtt": [
                                                    "Logs6819BB44",
                                                    "Arn"
                                                ]
                                            },
                                            "/*"
                                        ]
                                    ]
                                }
                            ]
                        }
                    ],
                    "Version": "2012-10-17"
                }
            },
            "Metadata": {
                "aws:cdk:path": "VodFoundation/Logs/Policy/Resource",
                "AWS::CloudFormation::Designer": {
                    "id": "30f60735-c5ee-4ee3-aee6-50b8530688bf"
                }
            }
        },
        "Source71E471F1": {
            "Type": "AWS::S3::Bucket",
            "Properties": {
                "BucketEncryption": {
                    "ServerSideEncryptionConfiguration": [
                        {
                            "ServerSideEncryptionByDefault": {
                                "SSEAlgorithm": "AES256"
                            }
                        }
                    ]
                },
                "LoggingConfiguration": {
                    "DestinationBucketName": {
                        "Ref": "Logs6819BB44"
                    },
                    "LogFilePrefix": "source-bucket-logs/"
                },
                "PublicAccessBlockConfiguration": {
                    "BlockPublicAcls": true,
                    "BlockPublicPolicy": true,
                    "IgnorePublicAcls": true,
                    "RestrictPublicBuckets": true
                },
                "VersioningConfiguration": {
                    "Status": "Enabled"
                }
            },
            "UpdateReplacePolicy": "Retain",
            "DeletionPolicy": "Retain",
            "Metadata": {
                "cfn_nag": {
                    "rules_to_suppress": [
                        {
                            "id": "W51",
                            "reason": "source bucket is private and does not require a bucket policy"
                        }
                    ]
                },
                "cdk_nag": {
                    "rules_to_suppress": [
                        {
                            "reason": "Bucket is private and is not using HTTP",
                            "id": "AwsSolutions-S10"
                        }
                    ]
                },
                "AWS::CloudFormation::Designer": {
                    "id": "9efa5718-7770-483a-ac04-e5692f0c8483"
                }
            }
        },
        "SourcePolicyE5AB5F73": {
            "Type": "AWS::S3::BucketPolicy",
            "Properties": {
                "Bucket": {
                    "Ref": "Source71E471F1"
                },
                "PolicyDocument": {
                    "Statement": [
                        {
                            "Action": "s3:*",
                            "Condition": {
                                "Bool": {
                                    "aws:SecureTransport": "false"
                                }
                            },
                            "Effect": "Deny",
                            "Principal": {
                                "AWS": "*"
                            },
                            "Resource": [
                                {
                                    "Fn::GetAtt": [
                                        "Source71E471F1",
                                        "Arn"
                                    ]
                                },
                                {
                                    "Fn::Join": [
                                        "",
                                        [
                                            {
                                                "Fn::GetAtt": [
                                                    "Source71E471F1",
                                                    "Arn"
                                                ]
                                            },
                                            "/*"
                                        ]
                                    ]
                                }
                            ]
                        }
                    ],
                    "Version": "2012-10-17"
                }
            },
            "Metadata": {
                "aws:cdk:path": "VodFoundation/Source/Policy/Resource",
                "AWS::CloudFormation::Designer": {
                    "id": "69d94f3d-f614-4c8d-8d3b-87fd68da4476"
                }
            }
        },
        "Destination920A3C57": {
            "Type": "AWS::S3::Bucket",
            "Properties": {
                "BucketEncryption": {
                    "ServerSideEncryptionConfiguration": [
                        {
                            "ServerSideEncryptionByDefault": {
                                "SSEAlgorithm": "AES256"
                            }
                        }
                    ]
                },
                "CorsConfiguration": {
                    "CorsRules": [
                        {
                            "AllowedHeaders": [
                                "*"
                            ],
                            "AllowedMethods": [
                                "GET"
                            ],
                            "AllowedOrigins": [
                                "*"
                            ],
                            "MaxAge": 3000
                        }
                    ]
                },
                "LoggingConfiguration": {
                    "DestinationBucketName": {
                        "Ref": "Logs6819BB44"
                    },
                    "LogFilePrefix": "destination-bucket-logs/"
                },
                "PublicAccessBlockConfiguration": {
                    "BlockPublicAcls": true,
                    "BlockPublicPolicy": true,
                    "IgnorePublicAcls": true,
                    "RestrictPublicBuckets": true
                },
                "VersioningConfiguration": {
                    "Status": "Enabled"
                }
            },
            "UpdateReplacePolicy": "Retain",
            "DeletionPolicy": "Retain",
            "Metadata": {
                "aws:cdk:path": "VodFoundation/Destination/Resource",
                "cdk_nag": {
                    "rules_to_suppress": [
                        {
                            "reason": "Bucket is private and is not using HTTP",
                            "id": "AwsSolutions-S10"
                        }
                    ]
                },
                "AWS::CloudFormation::Designer": {
                    "id": "973fa635-9110-4120-8f79-40f33b9f4691"
                }
            }
        },
        "DestinationPolicy7982387E": {
            "Type": "AWS::S3::BucketPolicy",
            "Properties": {
                "Bucket": {
                    "Ref": "Destination920A3C57"
                },
                "PolicyDocument": {
                    "Statement": [
                        {
                            "Action": "s3:*",
                            "Condition": {
                                "Bool": {
                                    "aws:SecureTransport": "false"
                                }
                            },
                            "Effect": "Deny",
                            "Principal": {
                                "AWS": "*"
                            },
                            "Resource": [
                                {
                                    "Fn::GetAtt": [
                                        "Destination920A3C57",
                                        "Arn"
                                    ]
                                },
                                {
                                    "Fn::Join": [
                                        "",
                                        [
                                            {
                                                "Fn::GetAtt": [
                                                    "Destination920A3C57",
                                                    "Arn"
                                                ]
                                            },
                                            "/*"
                                        ]
                                    ]
                                }
                            ]
                        },
                        {
                            "Action": "s3:GetObject",
                            "Effect": "Allow",
                            "Principal": {
                                "CanonicalUser": {
                                    "Fn::GetAtt": [
                                        "CloudFrontCloudFrontDistributionOrigin1S3Origin17B88F1A",
                                        "S3CanonicalUserId"
                                    ]
                                }
                            },
                            "Resource": {
                                "Fn::Join": [
                                    "",
                                    [
                                        {
                                            "Fn::GetAtt": [
                                                "Destination920A3C57",
                                                "Arn"
                                            ]
                                        },
                                        "/*"
                                    ]
                                ]
                            }
                        }
                    ],
                    "Version": "2012-10-17"
                }
            },
            "Metadata": {
                "aws:cdk:path": "VodFoundation/Destination/Policy/Resource",
                "cfn_nag": {
                    "rules_to_suppress": [
                        {
                            "id": "F16",
                            "reason": "Public website bucket policy requires a wildcard principal"
                        }
                    ]
                },
                "cdk_nag": {
                    "rules_to_suppress": [
                        {
                            "reason": "Bucket is private and is not using HTTP",
                            "id": "AwsSolutions-S10"
                        }
                    ]
                },
                "AWS::CloudFormation::Designer": {
                    "id": "661a238b-502e-42b6-bf7e-63037e6bf9e5"
                }
            }
        },
        "CloudFrontCloudFrontDistributionOrigin1S3Origin17B88F1A": {
            "Type": "AWS::CloudFront::CloudFrontOriginAccessIdentity",
            "Properties": {
                "CloudFrontOriginAccessIdentityConfig": {
                    "Comment": "Identity for VodFoundationCloudFrontCloudFrontDistributionOrigin1F191A578"
                }
            },
            "Metadata": {
                "aws:cdk:path": "VodFoundation/CloudFront/CloudFrontDistribution/Origin1/S3Origin/Resource",
                "AWS::CloudFormation::Designer": {
                    "id": "0a09c0ce-5319-402e-bb63-f694b7f6c761"
                }
            }
        },
        "CloudFrontCloudFrontDistribution824F3346": {
            "Type": "AWS::CloudFront::Distribution",
            "Properties": {
                "DistributionConfig": {
                    "Comment": {
                        "Fn::Join": [
                            "",
                            [
                                {
                                    "Ref": "AWS::StackName"
                                },
                                " Video on Demand Foundation"
                            ]
                        ]
                    },
                    "DefaultCacheBehavior": {
                        "CachePolicyId": "658327ea-f89d-4fab-a63d-7e88639e58f6",
                        "Compress": true,
                        "TargetOriginId": "VodFoundationCloudFrontCloudFrontDistributionOrigin1F191A578",
                        "ViewerProtocolPolicy": "redirect-to-https"
                    },
                    "DefaultRootObject": "index.html",
                    "Enabled": true,
                    "HttpVersion": "http2",
                    "IPV6Enabled": true,
                    "Logging": {
                        "Bucket": {
                            "Fn::GetAtt": [
                                "Logs6819BB44",
                                "RegionalDomainName"
                            ]
                        },
                        "Prefix": "cloudfront-logs/"
                    },
                    "Origins": [
                        {
                            "DomainName": {
                                "Fn::GetAtt": [
                                    "Destination920A3C57",
                                    "RegionalDomainName"
                                ]
                            },
                            "Id": "VodFoundationCloudFrontCloudFrontDistributionOrigin1F191A578",
                            "S3OriginConfig": {
                                "OriginAccessIdentity": {
                                    "Fn::Join": [
                                        "",
                                        [
                                            "origin-access-identity/cloudfront/",
                                            {
                                                "Ref": "CloudFrontCloudFrontDistributionOrigin1S3Origin17B88F1A"
                                            }
                                        ]
                                    ]
                                }
                            }
                        }
                    ]
                }
            },
            "Metadata": {
                "aws:cdk:path": "VodFoundation/CloudFront/CloudFrontDistribution/Resource",
                "cfn_nag": {
                    "rules_to_suppress": [
                        {
                            "id": "W70",
                            "reason": "Since the distribution uses the CloudFront domain name, CloudFront automatically sets the security policy to TLSv1 regardless of the value of MinimumProtocolVersion"
                        }
                    ]
                },
                "cdk_nag": {
                    "rules_to_suppress": [
                        {
                            "reason": "Use case does not warrant CloudFront Geo restriction",
                            "id": "AwsSolutions-CFR1"
                        },
                        {
                            "reason": "Use case does not warrant CloudFront integration with AWS WAF",
                            "id": "AwsSolutions-CFR2"
                        },
                        {
                            "reason": "CloudFront automatically sets the security policy to TLSv1 when the distribution uses the CloudFront domain name",
                            "id": "AwsSolutions-CFR4"
                        }
                    ]
                },
                "AWS::CloudFormation::Designer": {
                    "id": "91b5f1af-73e1-49c6-97e4-66ac0e88608e"
                }
            }
        },
        "MediaConvertRole031A64A9": {
            "Type": "AWS::IAM::Role",
            "Properties": {
                "AssumeRolePolicyDocument": {
                    "Statement": [
                        {
                            "Action": "sts:AssumeRole",
                            "Effect": "Allow",
                            "Principal": {
                                "Service": "mediaconvert.amazonaws.com"
                            }
                        }
                    ],
                    "Version": "2012-10-17"
                }
            },
            "Metadata": {
                "aws:cdk:path": "VodFoundation/MediaConvertRole/Resource",
                "AWS::CloudFormation::Designer": {
                    "id": "aa85cab7-150f-4036-8fa9-6bfc3e18ffe3"
                }
            }
        },
        "MediaconvertPolicy9E3026EC": {
            "Type": "AWS::IAM::Policy",
            "Properties": {
                "PolicyDocument": {
                    "Statement": [
                        {
                            "Action": [
                                "s3:GetObject",
                                "s3:PutObject"
                            ],
                            "Effect": "Allow",
                            "Resource": [
                                {
                                    "Fn::Join": [
                                        "",
                                        [
                                            {
                                                "Fn::GetAtt": [
                                                    "Source71E471F1",
                                                    "Arn"
                                                ]
                                            },
                                            "/*"
                                        ]
                                    ]
                                },
                                {
                                    "Fn::Join": [
                                        "",
                                        [
                                            {
                                                "Fn::GetAtt": [
                                                    "Destination920A3C57",
                                                    "Arn"
                                                ]
                                            },
                                            "/*"
                                        ]
                                    ]
                                }
                            ]
                        },
                        {
                            "Action": "execute-api:Invoke",
                            "Effect": "Allow",
                            "Resource": {
                                "Fn::Join": [
                                    "",
                                    [
                                        "arn:",
                                        {
                                            "Ref": "AWS::Partition"
                                        },
                                        ":execute-api:",
                                        {
                                            "Ref": "AWS::Region"
                                        },
                                        ":",
                                        {
                                            "Ref": "AWS::AccountId"
                                        },
                                        ":*"
                                    ]
                                ]
                            }
                        }
                    ],
                    "Version": "2012-10-17"
                },
                "PolicyName": "MediaconvertPolicy9E3026EC",
                "Roles": [
                    {
                        "Ref": "MediaConvertRole031A64A9"
                    }
                ]
            },
            "Metadata": {
                "aws:cdk:path": "VodFoundation/MediaconvertPolicy/Resource",
                "cdk_nag": {
                    "rules_to_suppress": [
                        {
                            "reason": "/* required to get/put objects to S3",
                            "id": "AwsSolutions-IAM5"
                        }
                    ]
                },
                "AWS::CloudFormation::Designer": {
                    "id": "20dffad7-3f10-45ab-9b70-d1028cafe5f9"
                }
            }
        },
        "CustomResourceRoleAB1EF463": {
            "Type": "AWS::IAM::Role",
            "Properties": {
                "AssumeRolePolicyDocument": {
                    "Statement": [
                        {
                            "Action": "sts:AssumeRole",
                            "Effect": "Allow",
                            "Principal": {
                                "Service": "lambda.amazonaws.com"
                            }
                        }
                    ],
                    "Version": "2012-10-17"
                }
            },
            "Metadata": {
                "aws:cdk:path": "VodFoundation/CustomResourceRole/Resource",
                "AWS::CloudFormation::Designer": {
                    "id": "26a3c88f-53f6-4b3a-8d58-a1077640dc0d"
                }
            }
        },
        "CustomResourcePolicy79526710": {
            "Type": "AWS::IAM::Policy",
            "Properties": {
                "PolicyDocument": {
                    "Statement": [
                        {
                            "Action": [
                                "s3:PutObject",
                                "s3:PutBucketNotification"
                            ],
                            "Effect": "Allow",
                            "Resource": [
                                {
                                    "Fn::GetAtt": [
                                        "Source71E471F1",
                                        "Arn"
                                    ]
                                },
                                {
                                    "Fn::Join": [
                                        "",
                                        [
                                            {
                                                "Fn::GetAtt": [
                                                    "Source71E471F1",
                                                    "Arn"
                                                ]
                                            },
                                            "/*"
                                        ]
                                    ]
                                }
                            ]
                        },
                        {
                            "Action": "mediaconvert:DescribeEndpoints",
                            "Effect": "Allow",
                            "Resource": {
                                "Fn::Join": [
                                    "",
                                    [
                                        "arn:aws:mediaconvert:",
                                        {
                                            "Ref": "AWS::Region"
                                        },
                                        ":",
                                        {
                                            "Ref": "AWS::AccountId"
                                        },
                                        ":*"
                                    ]
                                ]
                            }
                        },
                        {
                            "Action": [
                                "logs:CreateLogGroup",
                                "logs:CreateLogStream",
                                "logs:PutLogEvents"
                            ],
                            "Effect": "Allow",
                            "Resource": "*"
                        }
                    ],
                    "Version": "2012-10-17"
                },
                "PolicyName": "CustomResourcePolicy79526710",
                "Roles": [
                    {
                        "Ref": "CustomResourceRoleAB1EF463"
                    }
                ]
            },
            "Metadata": {
                "aws:cdk:path": "VodFoundation/CustomResourcePolicy/Resource",
                "cdk_nag": {
                    "rules_to_suppress": [
                        {
                            "reason": "Resource ARNs are not generated at the time of policy creation",
                            "id": "AwsSolutions-IAM5"
                        }
                    ]
                },
                "AWS::CloudFormation::Designer": {
                    "id": "193eaf8c-1362-4d84-aab3-29dde449fc83"
                }
            }
        },
        "CustomResource8CDCD7A7": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
                "Code": {
                    "S3Bucket": {
                        "Fn::Sub": "solutions-${AWS::Region}"
                    },
                    "S3Key": "video-on-demand-on-aws-foundation/v1.3.0/asseta7614083c07c094b52383ba0ce1a371dec30923e95e0c30f1a257d2aa486c03b.zip"
                },
                "Role": {
                    "Fn::GetAtt": [
                        "CustomResourceRoleAB1EF463",
                        "Arn"
                    ]
                },
                "Description": "CFN Custom resource to copy assets to S3 and get the MediaConvert endpoint",
                "Environment": {
                    "Variables": {
                        "SOLUTION_IDENTIFIER": "AwsSolution/SO0146/v1.3.0"
                    }
                },
                "Handler": "asseta7614083c07c094b52383ba0ce1a371dec30923e95e0c30f1a257d2aa486c03b/index.handler",
                "Runtime": "nodejs16.x",
                "Timeout": 30
            },
            "DependsOn": [
                "CustomResourcePolicy79526710",
                "CustomResourceRoleAB1EF463"
            ],
            "Metadata": {
                "cfn_nag": {
                    "rules_to_suppress": [
                        {
                            "id": "W58",
                            "reason": "Invalid warning: function has access to cloudwatch"
                        },
                        {
                            "id": "W89",
                            "reason": "Invalid warning: lambda not needed in VPC"
                        },
                        {
                            "id": "W92",
                            "reason": "Invalid warning: lambda does not need ReservedConcurrentExecutions"
                        }
                    ]
                },
                "cdk_nag": {
                    "rules_to_suppress": [
                        {
                            "reason": "nodejs 18 lambda runtime does not support javascript SDK v2",
                            "id": "AwsSolutions-L1"
                        }
                    ]
                },
                "AWS::CloudFormation::Designer": {
                    "id": "ebcae053-a046-451b-a24d-96ff1485d043"
                }
            }
        },
        "Endpoint": {
            "Type": "AWS::CloudFormation::CustomResource",
            "Properties": {
                "ServiceToken": {
                    "Fn::GetAtt": [
                        "CustomResource8CDCD7A7",
                        "Arn"
                    ]
                }
            },
            "UpdateReplacePolicy": "Delete",
            "DeletionPolicy": "Delete",
            "Metadata": {
                "aws:cdk:path": "VodFoundation/Endpoint/Default",
                "AWS::CloudFormation::Designer": {
                    "id": "0dc2a060-34c4-48fe-86cf-d2a66c63b520"
                }
            }
        },
        "JobSubmitRole4FA8E972": {
            "Type": "AWS::IAM::Role",
            "Properties": {
                "AssumeRolePolicyDocument": {
                    "Statement": [
                        {
                            "Action": "sts:AssumeRole",
                            "Effect": "Allow",
                            "Principal": {
                                "Service": "lambda.amazonaws.com"
                            }
                        }
                    ],
                    "Version": "2012-10-17"
                }
            },
            "Metadata": {
                "aws:cdk:path": "VodFoundation/JobSubmitRole/Resource",
                "AWS::CloudFormation::Designer": {
                    "id": "4778c65c-9700-4ff1-9b8f-227fd0a1fe2f"
                }
            }
        },
        "JobSubmitRoleDefaultPolicy20E077D9": {
            "Type": "AWS::IAM::Policy",
            "Properties": {
                "PolicyDocument": {
                    "Statement": [
                        {
                            "Action": "sns:Publish",
                            "Effect": "Allow",
                            "Resource": {
                                "Ref": "NotificationSnsTopicB941FD22"
                            }
                        }
                    ],
                    "Version": "2012-10-17"
                },
                "PolicyName": "JobSubmitRoleDefaultPolicy20E077D9",
                "Roles": [
                    {
                        "Ref": "JobSubmitRole4FA8E972"
                    }
                ]
            },
            "Metadata": {
                "aws:cdk:path": "VodFoundation/JobSubmitRole/DefaultPolicy/Resource",
                "AWS::CloudFormation::Designer": {
                    "id": "c7206e5e-23a6-4020-be81-f11f3bd00086"
                }
            }
        },
        "JobSubmitPolicy098DF0F8": {
            "Type": "AWS::IAM::Policy",
            "Properties": {
                "PolicyDocument": {
                    "Statement": [
                        {
                            "Action": "iam:PassRole",
                            "Effect": "Allow",
                            "Resource": {
                                "Fn::GetAtt": [
                                    "MediaConvertRole031A64A9",
                                    "Arn"
                                ]
                            }
                        },
                        {
                            "Action": "mediaconvert:CreateJob",
                            "Effect": "Allow",
                            "Resource": {
                                "Fn::Join": [
                                    "",
                                    [
                                        "arn:",
                                        {
                                            "Ref": "AWS::Partition"
                                        },
                                        ":mediaconvert:",
                                        {
                                            "Ref": "AWS::Region"
                                        },
                                        ":",
                                        {
                                            "Ref": "AWS::AccountId"
                                        },
                                        ":*"
                                    ]
                                ]
                            }
                        },
                        {
                            "Action": "s3:GetObject",
                            "Effect": "Allow",
                            "Resource": [
                                {
                                    "Fn::GetAtt": [
                                        "Source71E471F1",
                                        "Arn"
                                    ]
                                },
                                {
                                    "Fn::Join": [
                                        "",
                                        [
                                            {
                                                "Fn::GetAtt": [
                                                    "Source71E471F1",
                                                    "Arn"
                                                ]
                                            },
                                            "/*"
                                        ]
                                    ]
                                }
                            ]
                        }
                    ],
                    "Version": "2012-10-17"
                },
                "PolicyName": "JobSubmitPolicy098DF0F8",
                "Roles": [
                    {
                        "Ref": "JobSubmitRole4FA8E972"
                    }
                ]
            },
            "Metadata": {
                "aws:cdk:path": "VodFoundation/JobSubmitPolicy/Resource",
                "cdk_nag": {
                    "rules_to_suppress": [
                        {
                            "reason": "Resource ARNs are not generated at the time of policy creation",
                            "id": "AwsSolutions-IAM5"
                        }
                    ]
                },
                "AWS::CloudFormation::Designer": {
                    "id": "e86f7de0-0481-4253-bab1-15f076315b99"
                }
            }
        },
        "jobSubmitB391E42F": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
                "Code": {
                    "S3Bucket": {
                        "Fn::Sub": "solutions-${AWS::Region}"
                    },
                    "S3Key": "video-on-demand-on-aws-foundation/v1.3.0/assetdfc81ca18fd703a28090cd8d4eb8f3423d2103c424f21dd27d30d22f8978f3c6.zip"
                },
                "Role": {
                    "Fn::GetAtt": [
                        "JobSubmitRole4FA8E972",
                        "Arn"
                    ]
                },
                "Description": "Submits an Encoding job to MediaConvert",
                "Environment": {
                    "Variables": {
                        "MEDIACONVERT_ENDPOINT": {
                            "Fn::GetAtt": [
                                "Endpoint",
                                "Endpoint"
                            ]
                        },
                        "MEDIACONVERT_ROLE": {
                            "Fn::GetAtt": [
                                "MediaConvertRole031A64A9",
                                "Arn"
                            ]
                        },
                        "JOB_SETTINGS": "job-settings.json",
                        "DESTINATION_BUCKET": {
                            "Ref": "Destination920A3C57"
                        },
                        "SOLUTION_ID": "SO0146",
                        "STACKNAME": {
                            "Ref": "AWS::StackName"
                        },
                        "SOLUTION_IDENTIFIER": "AwsSolution/SO0146/v1.3.0",
                        "SNS_TOPIC_ARN": {
                            "Ref": "NotificationSnsTopicB941FD22"
                        },
                        "SNS_TOPIC_NAME": {
                            "Fn::GetAtt": [
                                "NotificationSnsTopicB941FD22",
                                "TopicName"
                            ]
                        }
                    }
                },
                "Handler": "assetdfc81ca18fd703a28090cd8d4eb8f3423d2103c424f21dd27d30d22f8978f3c6/index.handler",
                "Runtime": "nodejs16.x",
                "Timeout": 30
            },
            "DependsOn": [
                "JobSubmitPolicy098DF0F8",
                "JobSubmitRoleDefaultPolicy20E077D9",
                "JobSubmitRole4FA8E972"
            ],
            "Metadata": {
                "cfn_nag": {
                    "rules_to_suppress": [
                        {
                            "id": "W58",
                            "reason": "Invalid warning: function has access to cloudwatch"
                        },
                        {
                            "id": "W89",
                            "reason": "Invalid warning: lambda not needed in VPC"
                        },
                        {
                            "id": "W92",
                            "reason": "Invalid warning: lambda does not need ReservedConcurrentExecutions"
                        }
                    ]
                },
                "cdk_nag": {
                    "rules_to_suppress": [
                        {
                            "reason": "nodejs 18 lambda runtime does not support javascript SDK v2",
                            "id": "AwsSolutions-L1"
                        }
                    ]
                },
                "AWS::CloudFormation::Designer": {
                    "id": "5d8054df-fb27-4023-a27a-f1efd01bbccf"
                }
            }
        },
        "jobSubmitEventInvokeConfig0385F502": {
            "Type": "AWS::Lambda::EventInvokeConfig",
            "Properties": {
                "FunctionName": {
                    "Ref": "jobSubmitB391E42F"
                },
                "Qualifier": "$LATEST",
                "MaximumRetryAttempts": 0
            },
            "DependsOn": [
                "JobSubmitPolicy098DF0F8",
                "JobSubmitRoleDefaultPolicy20E077D9",
                "JobSubmitRole4FA8E972"
            ],
            "Metadata": {
                "aws:cdk:path": "VodFoundation/jobSubmit/EventInvokeConfig/Resource",
                "AWS::CloudFormation::Designer": {
                    "id": "148235e8-f176-49a5-84a6-05f9fc571432"
                }
            }
        },
        "jobSubmitS3Trigger3DEB8D7C": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
                "Action": "lambda:InvokeFunction",
                "FunctionName": {
                    "Fn::GetAtt": [
                        "jobSubmitB391E42F",
                        "Arn"
                    ]
                },
                "Principal": "s3.amazonaws.com",
                "SourceAccount": {
                    "Ref": "AWS::AccountId"
                }
            },
            "DependsOn": [
                "JobSubmitPolicy098DF0F8",
                "JobSubmitRoleDefaultPolicy20E077D9",
                "JobSubmitRole4FA8E972"
            ],
            "Metadata": {
                "aws:cdk:path": "VodFoundation/jobSubmit/S3Trigger",
                "AWS::CloudFormation::Designer": {
                    "id": "7ee41c52-dc7d-439f-9878-bba49de12439"
                }
            }
        },
        "JobCompleteRole81FD9028": {
            "Type": "AWS::IAM::Role",
            "Properties": {
                "AssumeRolePolicyDocument": {
                    "Statement": [
                        {
                            "Action": "sts:AssumeRole",
                            "Effect": "Allow",
                            "Principal": {
                                "Service": "lambda.amazonaws.com"
                            }
                        }
                    ],
                    "Version": "2012-10-17"
                }
            },
            "Metadata": {
                "aws:cdk:path": "VodFoundation/JobCompleteRole/Resource",
                "AWS::CloudFormation::Designer": {
                    "id": "dee11333-bd13-4f87-ae02-10e507a40f1a"
                }
            }
        },
        "JobCompleteRoleDefaultPolicyD4DC2F12": {
            "Type": "AWS::IAM::Policy",
            "Properties": {
                "PolicyDocument": {
                    "Statement": [
                        {
                            "Action": "sns:Publish",
                            "Effect": "Allow",
                            "Resource": {
                                "Ref": "NotificationSnsTopicB941FD22"
                            }
                        }
                    ],
                    "Version": "2012-10-17"
                },
                "PolicyName": "JobCompleteRoleDefaultPolicyD4DC2F12",
                "Roles": [
                    {
                        "Ref": "JobCompleteRole81FD9028"
                    }
                ]
            },
            "Metadata": {
                "aws:cdk:path": "VodFoundation/JobCompleteRole/DefaultPolicy/Resource",
                "AWS::CloudFormation::Designer": {
                    "id": "7e124912-87dc-463c-b680-9bbeb9e2b9cd"
                }
            }
        },
        "JobCompletePolicyBBFD3892": {
            "Type": "AWS::IAM::Policy",
            "Properties": {
                "PolicyDocument": {
                    "Statement": [
                        {
                            "Action": "mediaconvert:GetJob",
                            "Effect": "Allow",
                            "Resource": {
                                "Fn::Join": [
                                    "",
                                    [
                                        "arn:",
                                        {
                                            "Ref": "AWS::Partition"
                                        },
                                        ":mediaconvert:",
                                        {
                                            "Ref": "AWS::Region"
                                        },
                                        ":",
                                        {
                                            "Ref": "AWS::AccountId"
                                        },
                                        ":*"
                                    ]
                                ]
                            }
                        },
                        {
                            "Action": [
                                "s3:GetObject",
                                "s3:PutObject"
                            ],
                            "Effect": "Allow",
                            "Resource": {
                                "Fn::Join": [
                                    "",
                                    [
                                        {
                                            "Fn::GetAtt": [
                                                "Source71E471F1",
                                                "Arn"
                                            ]
                                        },
                                        "/*"
                                    ]
                                ]
                            }
                        }
                    ],
                    "Version": "2012-10-17"
                },
                "PolicyName": "JobCompletePolicyBBFD3892",
                "Roles": [
                    {
                        "Ref": "JobCompleteRole81FD9028"
                    }
                ]
            },
            "Metadata": {
                "aws:cdk:path": "VodFoundation/JobCompletePolicy/Resource",
                "cdk_nag": {
                    "rules_to_suppress": [
                        {
                            "reason": "Resource ARNs are not generated at the time of policy creation",
                            "id": "AwsSolutions-IAM5"
                        }
                    ]
                },
                "AWS::CloudFormation::Designer": {
                    "id": "7ac6a498-e755-419f-80fc-c6584fefdd35"
                }
            }
        },
        "JobComplete703682D0": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
                "Code": {
                    "S3Bucket": {
                        "Fn::Sub": "solutions-${AWS::Region}"
                    },
                    "S3Key": "video-on-demand-on-aws-foundation/v1.3.0/asset1c3526ad797546da22bd0dba2b5224a1e78534a6ae3f4c755e5898519b3903af.zip"
                },
                "Role": {
                    "Fn::GetAtt": [
                        "JobCompleteRole81FD9028",
                        "Arn"
                    ]
                },
                "Description": "Triggered by Cloudwatch Events,processes completed MediaConvert jobs.",
                "Environment": {
                    "Variables": {
                        "MEDIACONVERT_ENDPOINT": {
                            "Fn::GetAtt": [
                                "Endpoint",
                                "Endpoint"
                            ]
                        },
                        "CLOUDFRONT_DOMAIN": {
                            "Fn::GetAtt": [
                                "CloudFrontCloudFrontDistribution824F3346",
                                "DomainName"
                            ]
                        },
                        "SOURCE_BUCKET": {
                            "Ref": "Source71E471F1"
                        },
                        "JOB_MANIFEST": "jobs-manifest.json",
                        "STACKNAME": {
                            "Ref": "AWS::StackName"
                        },
                        "METRICS": {
                            "Fn::FindInMap": [
                                "Send",
                                "AnonymizedUsage",
                                "Data"
                            ]
                        },
                        "SOLUTION_ID": "SO0146",
                        "VERSION": "v1.3.0",
                        "UUID": {
                            "Fn::GetAtt": [
                                "Endpoint",
                                "UUID"
                            ]
                        },
                        "SOLUTION_IDENTIFIER": "AwsSolution/SO0146/v1.3.0",
                        "SNS_TOPIC_ARN": {
                            "Ref": "NotificationSnsTopicB941FD22"
                        },
                        "SNS_TOPIC_NAME": {
                            "Fn::GetAtt": [
                                "NotificationSnsTopicB941FD22",
                                "TopicName"
                            ]
                        }
                    }
                },
                "Handler": "asset1c3526ad797546da22bd0dba2b5224a1e78534a6ae3f4c755e5898519b3903af/index.handler",
                "Runtime": "nodejs16.x",
                "Timeout": 30
            },
            "DependsOn": [
                "JobCompletePolicyBBFD3892",
                "JobCompleteRoleDefaultPolicyD4DC2F12",
                "JobCompleteRole81FD9028"
            ],
            "Metadata": {
                "cfn_nag": {
                    "rules_to_suppress": [
                        {
                            "id": "W58",
                            "reason": "Invalid warning: function has access to cloudwatch"
                        },
                        {
                            "id": "W89",
                            "reason": "Invalid warning: lambda not needed in VPC"
                        },
                        {
                            "id": "W92",
                            "reason": "Invalid warning: lambda does not need ReservedConcurrentExecutions"
                        }
                    ]
                },
                "cdk_nag": {
                    "rules_to_suppress": [
                        {
                            "reason": "nodejs 18 lambda runtime does not support javascript SDK v2",
                            "id": "AwsSolutions-L1"
                        }
                    ]
                },
                "AWS::CloudFormation::Designer": {
                    "id": "dad1f13a-beeb-495d-b0a0-fc87387570dd"
                }
            }
        },
        "JobCompleteEventInvokeConfig692D89BE": {
            "Type": "AWS::Lambda::EventInvokeConfig",
            "Properties": {
                "FunctionName": {
                    "Ref": "JobComplete703682D0"
                },
                "Qualifier": "$LATEST",
                "MaximumRetryAttempts": 0
            },
            "DependsOn": [
                "JobCompletePolicyBBFD3892",
                "JobCompleteRoleDefaultPolicyD4DC2F12",
                "JobCompleteRole81FD9028"
            ],
            "Metadata": {
                "aws:cdk:path": "VodFoundation/JobComplete/EventInvokeConfig/Resource",
                "AWS::CloudFormation::Designer": {
                    "id": "708e44ac-fb26-4cde-86c6-20d2b13a741f"
                }
            }
        },
        "JobCompleteAwsEventsLambdaInvokePermission1ED79B615": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
                "Action": "lambda:InvokeFunction",
                "FunctionName": {
                    "Fn::GetAtt": [
                        "JobComplete703682D0",
                        "Arn"
                    ]
                },
                "Principal": "events.amazonaws.com",
                "SourceArn": {
                    "Fn::GetAtt": [
                        "EventTriggerEventsRule76A88FDF",
                        "Arn"
                    ]
                }
            },
            "DependsOn": [
                "JobCompletePolicyBBFD3892",
                "JobCompleteRoleDefaultPolicyD4DC2F12",
                "JobCompleteRole81FD9028"
            ],
            "Metadata": {
                "aws:cdk:path": "VodFoundation/JobComplete/AwsEventsLambdaInvokePermission-1",
                "AWS::CloudFormation::Designer": {
                    "id": "63b8796f-f6bc-47cf-b2d7-2ea0e3294cd0"
                }
            }
        },
        "S3Config": {
            "Type": "AWS::CloudFormation::CustomResource",
            "Properties": {
                "ServiceToken": {
                    "Fn::GetAtt": [
                        "CustomResource8CDCD7A7",
                        "Arn"
                    ]
                },
                "SourceBucket": {
                    "Ref": "Source71E471F1"
                },
                "LambdaArn": {
                    "Fn::GetAtt": [
                        "jobSubmitB391E42F",
                        "Arn"
                    ]
                }
            },
            "UpdateReplacePolicy": "Delete",
            "DeletionPolicy": "Delete",
            "Metadata": {
                "aws:cdk:path": "VodFoundation/S3Config/Default",
                "AWS::CloudFormation::Designer": {
                    "id": "0c5d1abb-a15d-4b48-85d6-ded2059c72cd"
                }
            }
        },
        "EventTriggerEventsRule76A88FDF": {
            "Type": "AWS::Events::Rule",
            "Properties": {
                "EventPattern": {
                    "source": [
                        "aws.mediaconvert"
                    ],
                    "detail": {
                        "userMetadata": {
                            "StackName": [
                                {
                                    "Ref": "AWS::StackName"
                                }
                            ]
                        },
                        "status": [
                            "COMPLETE",
                            "ERROR",
                            "CANCELED",
                            "INPUT_INFORMATION"
                        ]
                    }
                },
                "State": "ENABLED",
                "Targets": [
                    {
                        "Arn": {
                            "Fn::GetAtt": [
                                "JobComplete703682D0",
                                "Arn"
                            ]
                        },
                        "Id": "Target0"
                    }
                ]
            },
            "Metadata": {
                "aws:cdk:path": "VodFoundation/EventTrigger/EventsRule/Resource",
                "AWS::CloudFormation::Designer": {
                    "id": "6790e3c5-fad7-40f2-8b8e-2634532c8fe9"
                }
            }
        },
        "NotificationSnsTopicB941FD22": {
            "Type": "AWS::SNS::Topic",
            "Properties": {
                "KmsMasterKeyId": {
                    "Fn::Join": [
                        "",
                        [
                            "arn:",
                            {
                                "Ref": "AWS::Partition"
                            },
                            ":kms:",
                            {
                                "Ref": "AWS::Region"
                            },
                            ":",
                            {
                                "Ref": "AWS::AccountId"
                            },
                            ":alias/aws/sns"
                        ]
                    ]
                }
            },
            "Metadata": {
                "aws:cdk:path": "VodFoundation/Notification/SnsTopic/Resource",
                "AWS::CloudFormation::Designer": {
                    "id": "8da7b783-0871-4883-a590-9c8e79d2fb10"
                }
            }
        },
        "NotificationSnsTopicPolicy4027082A": {
            "Type": "AWS::SNS::TopicPolicy",
            "Properties": {
                "PolicyDocument": {
                    "Statement": [
                        {
                            "Action": [
                                "SNS:Publish",
                                "SNS:RemovePermission",
                                "SNS:SetTopicAttributes",
                                "SNS:DeleteTopic",
                                "SNS:ListSubscriptionsByTopic",
                                "SNS:GetTopicAttributes",
                                "SNS:Receive",
                                "SNS:AddPermission",
                                "SNS:Subscribe"
                            ],
                            "Condition": {
                                "StringEquals": {
                                    "AWS:SourceOwner": {
                                        "Ref": "AWS::AccountId"
                                    }
                                }
                            },
                            "Effect": "Allow",
                            "Principal": {
                                "AWS": {
                                    "Fn::Join": [
                                        "",
                                        [
                                            "arn:",
                                            {
                                                "Ref": "AWS::Partition"
                                            },
                                            ":iam::",
                                            {
                                                "Ref": "AWS::AccountId"
                                            },
                                            ":root"
                                        ]
                                    ]
                                }
                            },
                            "Resource": {
                                "Ref": "NotificationSnsTopicB941FD22"
                            },
                            "Sid": "TopicOwnerOnlyAccess"
                        },
                        {
                            "Action": [
                                "SNS:Publish",
                                "SNS:RemovePermission",
                                "SNS:SetTopicAttributes",
                                "SNS:DeleteTopic",
                                "SNS:ListSubscriptionsByTopic",
                                "SNS:GetTopicAttributes",
                                "SNS:Receive",
                                "SNS:AddPermission",
                                "SNS:Subscribe"
                            ],
                            "Condition": {
                                "Bool": {
                                    "aws:SecureTransport": "false"
                                }
                            },
                            "Effect": "Deny",
                            "Principal": {
                                "AWS": "*"
                            },
                            "Resource": {
                                "Ref": "NotificationSnsTopicB941FD22"
                            },
                            "Sid": "HttpsOnly"
                        }
                    ],
                    "Version": "2012-10-17"
                },
                "Topics": [
                    {
                        "Ref": "NotificationSnsTopicB941FD22"
                    }
                ]
            },
            "Metadata": {
                "aws:cdk:path": "VodFoundation/Notification/SnsTopic/Policy/Resource",
                "AWS::CloudFormation::Designer": {
                    "id": "9de8bd9f-9057-4b0d-ba90-269ea7bfa59b"
                }
            }
        },
        "NotificationSnsTopicTokenSubscription1209F3ABA": {
            "Type": "AWS::SNS::Subscription",
            "Properties": {
                "Protocol": "email",
                "TopicArn": {
                    "Ref": "NotificationSnsTopicB941FD22"
                },
                "Endpoint": {
                    "Ref": "emailAddress"
                }
            },
            "Metadata": {
                "aws:cdk:path": "VodFoundation/Notification/SnsTopic/TokenSubscription:1/Resource",
                "AWS::CloudFormation::Designer": {
                    "id": "e75a5879-4605-4400-8ec9-f803669e4ce5"
                }
            }
        },
        "AppRegistryAttributeGroup7AF07446": {
            "Type": "AWS::ServiceCatalogAppRegistry::AttributeGroup",
            "Properties": {
                "Attributes": {
                    "ApplicationType": "AWS-Solutions",
                    "SolutionVersion": "v1.3.0",
                    "SolutionID": "SO0146",
                    "SolutionName": "Video on Demand on AWS Foundation"
                },
                "Name": {
                    "Fn::Join": [
                        "",
                        [
                            {
                                "Ref": "AWS::Region"
                            },
                            "-",
                            {
                                "Ref": "AWS::StackName"
                            }
                        ]
                    ]
                },
                "Description": "Attribute group for solution information."
            },
            "Metadata": {
                "aws:cdk:path": "VodFoundation/AppRegistryAttributeGroup/Resource",
                "AWS::CloudFormation::Designer": {
                    "id": "0761706c-e351-4a08-9139-9acebf5b668f"
                }
            }
        },
        "AppRegistryAttributeGroupApplicationAttributeGroupAssociatione92bb36ecd06C2AD27E6": {
            "Type": "AWS::ServiceCatalogAppRegistry::AttributeGroupAssociation",
            "Properties": {
                "Application": {
                    "Fn::GetAtt": [
                        "AppRegistryApp5349BE86",
                        "Id"
                    ]
                },
                "AttributeGroup": {
                    "Fn::GetAtt": [
                        "AppRegistryAttributeGroup7AF07446",
                        "Id"
                    ]
                }
            },
            "Metadata": {
                "aws:cdk:path": "VodFoundation/AppRegistryAttributeGroup/ApplicationAttributeGroupAssociatione92bb36ecd06",
                "AWS::CloudFormation::Designer": {
                    "id": "5e41dc6f-0927-4f11-9a23-0687671601c0"
                }
            }
        },
        "AppRegistryApp5349BE86": {
            "Type": "AWS::ServiceCatalogAppRegistry::Application",
            "Properties": {
                "Name": {
                    "Fn::Join": [
                        "",
                        [
                            "vod-foundation-",
                            {
                                "Ref": "AWS::Region"
                            },
                            "-",
                            {
                                "Ref": "AWS::AccountId"
                            },
                            "-",
                            {
                                "Ref": "AWS::StackName"
                            }
                        ]
                    ]
                },
                "Description": "Service Catalog application to track and manage all your resources. The SolutionId is SO0146 and SolutionVersion is v1.3.0.",
                "Tags": {
                    "Solutions:ApplicationType": "AWS-Solutions",
                    "Solutions:SolutionID": "SO0146",
                    "Solutions:SolutionName": "Video on Demand on AWS Foundation",
                    "Solutions:SolutionVersion": "v1.3.0"
                }
            },
            "Metadata": {
                "aws:cdk:path": "VodFoundation/AppRegistryApp/Resource",
                "AWS::CloudFormation::Designer": {
                    "id": "ff5bd5b3-541c-4fd4-850b-2f404dcfe375"
                }
            }
        },
        "AppRegistryAssociation": {
            "Type": "AWS::ServiceCatalogAppRegistry::ResourceAssociation",
            "Properties": {
                "Application": {
                    "Fn::GetAtt": [
                        "AppRegistryApp5349BE86",
                        "Id"
                    ]
                },
                "Resource": {
                    "Ref": "AWS::StackId"
                },
                "ResourceType": "CFN_STACK"
            },
            "Metadata": {
                "aws:cdk:path": "VodFoundation/AppRegistryAssociation",
                "AWS::CloudFormation::Designer": {
                    "id": "95b25587-496b-42d7-9f12-2e1566a3cfc2"
                }
            }
        },
        "CDKMetadata": {
            "Type": "AWS::CDK::Metadata",
            "Properties": {
                "Analytics": "v2:deflate64:H4sIAAAAAAAA/3VSTW/bMAz9Lb3LatoAK3prmrVDgQ0NktwLWWY8NrZkiFKGQvB/LyU7sbGtF5F8/HqS3q2Md3cyLq7UHyp0dSwaLGXceaWPYn0wv1TXoamTu1FOteDBCS59i7SU8THoI/iUHL3BbGyD+mOCx3gIHhVBL3RjQ3Vw1ngZvyN5h2XwaI14dVijWWkNRC8VGI8+T1qnhufU8FXFfEwvULUybm0DKZXtxGrwetGotqyUjM/B6Lyccxf/6cSjX8zJHmFtzQHzG/wX3IBrkSivpeWbIgJPcpWMgNRAzCSMTNhylWFobzvUCRucfE4c5+EulKQddmeO85iHgTuhBq28amzN/+WgTk/xISPXrvzwKPDD2dCJfxCmaTWq8+hV1/HKS7gFssFpmFX1vTijIt+RtVJniQTytr3kZt3Jfw2+C1kq/HAVDtQXhWq630ourh5G+V0n++WNxvL416VmpJnd8v48j2yT1cCT+fAuaE95QZzkV7COJ23t7W45/FnpsKqhGCXyNEF7+zNjo3qK9JcDws2GmICxFch3uj7dfJO3CybzToiFC6zUFuR2sJ+rDW/neAMAAA=="
            },
            "Metadata": {
                "aws:cdk:path": "VodFoundation/CDKMetadata/Default",
                "AWS::CloudFormation::Designer": {
                    "id": "ae4d02d6-8f17-4633-a053-848534034fac"
                }
            },
            "Condition": "CDKMetadataAvailable"
        },
        "UploadVideoArchive": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
                "Role": {
                    "Fn::GetAtt": [
                        "UploadVideoArchiveRole",
                        "Arn"
                    ]
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "d68f249d-6175-449b-8c51-770a0e3d22f5"
                }
            },
            "DependsOn": [
                "UploadVideoArchiveRole",
                "UploadVideoArchiveRoleDefaultPolicy",
                "UploadVideoArchivePolicy"
            ]
        },
        "UploadVideoArchiveRole": {
            "Type": "AWS::IAM::Role",
            "Properties": {
                "AssumeRolePolicyDocument": {
                    "Statement": [
                        {
                            "Action": "sts:AssumeRole",
                            "Effect": "Allow",
                            "Principal": {
                                "Service": "lambda.amazonaws.com"
                            }
                        }
                    ],
                    "Version": "2012-10-17"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "028134e2-76d4-4ce4-95f1-648ac49f1256"
                }
            }
        },
        "UploadVideoArchiveRoleDefaultPolicy": {
            "Type": "AWS::IAM::Policy",
            "Properties": {},
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "eee68834-3f76-48f7-a5a3-ec37e9099a87"
                }
            }
        },
        "UploadVideoArchiveS3Trigger": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
                "Action": "lambda:InvokeFunction",
                "FunctionName": {
                    "Ref": "UploadVideoArchive"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "a94d7380-5555-408a-9485-88fc0443dec0"
                }
            },
            "DependsOn": [
                "UploadVideoArchiveRole",
                "UploadVideoArchiveRoleDefaultPolicy",
                "UploadVideoArchive"
            ]
        },
        "UploadVideoArchivePolicy": {
            "Type": "AWS::IAM::Policy",
            "Properties": {},
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "f82b1072-569b-4231-a92a-70d583fdcb29"
                }
            }
        },
        "UploadVideoArchiveEventInvokeConfig": {
            "Type": "AWS::Lambda::EventInvokeConfig",
            "Properties": {
                "FunctionName": {
                    "Ref": "UploadVideoArchive"
                },
                "Qualifier": "$LATEST",
                "MaximumRetryAttempts": 0
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "3d9cf3d0-a03f-41b7-8a51-162cec5c8e2c"
                }
            },
            "DependsOn": [
                "UploadVideoArchivePolicy",
                "UploadVideoArchiveRole",
                "UploadVideoArchiveRoleDefaultPolicy"
            ]
        },
        "UploadPhotoArchiveRole": {
            "Type": "AWS::IAM::Role",
            "Properties": {},
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "37fafb78-7c38-4bac-a875-84b9dac05a95"
                }
            }
        },
        "UploadPhotoArchiveRoleDefaultPolicy": {
            "Type": "AWS::IAM::Policy",
            "Properties": {
                "PolicyName": "UploadPhotoArchiveRoleDefaultPolicy",
                "Roles": [
                    {
                        "Ref": "UploadPhotoArchiveRole"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "dfc27c13-5cc6-4bd6-91d1-ac122121ef39"
                }
            }
        },
        "UploadPhotoArchive": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
                "Role": {
                    "Fn::GetAtt": [
                        "UploadPhotoArchiveRole",
                        "Arn"
                    ]
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "65931109-3047-474b-be3f-04f1802ea01d"
                }
            },
            "DependsOn": [
                "UploadPhotoArchivePolicy",
                "UploadPhotoArchiveRole",
                "UploadPhotoArchiveRoleDefaultPolicy"
            ]
        },
        "UploadPhotoArchivePolicy": {
            "Type": "AWS::IAM::Policy",
            "Properties": {
                "PolicyDocument": {
                    "Statement": [
                        {
                            "Action": "s3:GetObject",
                            "Effect": "Allow",
                            "Resource": [
                                {
                                    "Fn::GetAtt": [
                                        "PhotoSource",
                                        "Arn"
                                    ]
                                },
                                {
                                    "Fn::Join": [
                                        "",
                                        [
                                            {
                                                "Fn::GetAtt": [
                                                    "PhotoSource",
                                                    "Arn"
                                                ]
                                            },
                                            "/*"
                                        ]
                                    ]
                                }
                            ]
                        }
                    ],
                    "Version": "2012-10-17"
                },
                "PolicyName": "UploadPhotoArchivePolicy",
                "Roles": [
                    {
                        "Ref": "UploadPhotoArchiveRole"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "a32440e1-4153-4b1d-ab3a-1fe98111a6ba"
                }
            }
        },
        "UploadPhotoArchiveEventInvokeConfig": {
            "Type": "AWS::Lambda::EventInvokeConfig",
            "Properties": {
                "Action": "lambda:InvokeFunction",
                "FunctionName": {
                    "Ref": "UploadPhotoArchive"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "19c13c7d-bceb-4c8d-b4b6-e3d4cbb3cba9"
                }
            },
            "DependsOn": [
                "UploadPhotoArchiveRoleDefaultPolicy",
                "UploadPhotoArchivePolicy",
                "UploadPhotoArchiveRole"
            ]
        },
        "UploadPhotoArchiveS3Trigger": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
                "Action": "lambda:InvokeFunction",
                "FunctionName": {
                    "Ref": "UploadPhotoArchive"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "0914e572-758f-480c-91e8-e97ea8341822"
                }
            },
            "DependsOn": [
                "UploadPhotoArchive",
                "UploadPhotoArchiveRole",
                "UploadPhotoArchiveRoleDefaultPolicy"
            ]
        },
        "PhotoSource": {
            "Type": "AWS::S3::Bucket",
            "Properties": {},
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "3e5f4395-3d94-4ac4-946e-1b7ed17543c7"
                }
            }
        },
        "PhotoSourcePolicy": {
            "Type": "AWS::S3::BucketPolicy",
            "Properties": {
                "Bucket": {
                    "Ref": "PhotoSource"
                },
                "PolicyDocument": {
                    "Statement": [
                        {
                            "Action": "s3:*",
                            "Condition": {
                                "Bool": {
                                    "aws:SecureTransport": "false"
                                }
                            },
                            "Effect": "Deny",
                            "Principal": {
                                "AWS": "*"
                            },
                            "Resource": [
                                {
                                    "Fn::GetAtt": [
                                        "PhotoSource",
                                        "Arn"
                                    ]
                                },
                                {
                                    "Fn::Join": [
                                        "",
                                        [
                                            {
                                                "Fn::GetAtt": [
                                                    "PhotoSource",
                                                    "Arn"
                                                ]
                                            },
                                            "/*"
                                        ]
                                    ]
                                }
                            ]
                        }
                    ],
                    "Version": "2012-10-17"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "fcf42383-3d88-426d-9d33-002fd4ac11e0"
                }
            }
        }
    },
    "Outputs": {
        "SourceBucket": {
            "Description": "Source S3 Bucket used to host source video and MediaConvert job settings files",
            "Value": {
                "Ref": "Source71E471F1"
            },
            "Export": {
                "Name": {
                    "Fn::Join": [
                        "",
                        [
                            {
                                "Ref": "AWS::StackName"
                            },
                            "-SourceBucket"
                        ]
                    ]
                }
            }
        },
        "DestinationBucket": {
            "Description": "Source S3 Bucket used to host all MediaConvert ouputs",
            "Value": {
                "Ref": "Destination920A3C57"
            },
            "Export": {
                "Name": {
                    "Fn::Join": [
                        "",
                        [
                            {
                                "Ref": "AWS::StackName"
                            },
                            "-DestinationBucket"
                        ]
                    ]
                }
            }
        },
        "CloudFrontDomain": {
            "Description": "CloudFront Domain Name",
            "Value": {
                "Fn::GetAtt": [
                    "CloudFrontCloudFrontDistribution824F3346",
                    "DomainName"
                ]
            },
            "Export": {
                "Name": {
                    "Fn::Join": [
                        "",
                        [
                            {
                                "Ref": "AWS::StackName"
                            },
                            "-CloudFrontDomain"
                        ]
                    ]
                }
            }
        },
        "SnsTopic": {
            "Description": "SNS Topic used to capture the VOD workflow outputs including errors",
            "Value": {
                "Fn::GetAtt": [
                    "NotificationSnsTopicB941FD22",
                    "TopicName"
                ]
            },
            "Export": {
                "Name": {
                    "Fn::Join": [
                        "",
                        [
                            {
                                "Ref": "AWS::StackName"
                            },
                            "-SnsTopic"
                        ]
                    ]
                }
            }
        }
    },
    "Conditions": {
        "CDKMetadataAvailable": {
            "Fn::Or": [
                {
                    "Fn::Or": [
                        {
                            "Fn::Equals": [
                                {
                                    "Ref": "AWS::Region"
                                },
                                "af-south-1"
                            ]
                        },
                        {
                            "Fn::Equals": [
                                {
                                    "Ref": "AWS::Region"
                                },
                                "ap-east-1"
                            ]
                        },
                        {
                            "Fn::Equals": [
                                {
                                    "Ref": "AWS::Region"
                                },
                                "ap-northeast-1"
                            ]
                        },
                        {
                            "Fn::Equals": [
                                {
                                    "Ref": "AWS::Region"
                                },
                                "ap-northeast-2"
                            ]
                        },
                        {
                            "Fn::Equals": [
                                {
                                    "Ref": "AWS::Region"
                                },
                                "ap-south-1"
                            ]
                        },
                        {
                            "Fn::Equals": [
                                {
                                    "Ref": "AWS::Region"
                                },
                                "ap-southeast-1"
                            ]
                        },
                        {
                            "Fn::Equals": [
                                {
                                    "Ref": "AWS::Region"
                                },
                                "ap-southeast-2"
                            ]
                        },
                        {
                            "Fn::Equals": [
                                {
                                    "Ref": "AWS::Region"
                                },
                                "ca-central-1"
                            ]
                        },
                        {
                            "Fn::Equals": [
                                {
                                    "Ref": "AWS::Region"
                                },
                                "cn-north-1"
                            ]
                        },
                        {
                            "Fn::Equals": [
                                {
                                    "Ref": "AWS::Region"
                                },
                                "cn-northwest-1"
                            ]
                        }
                    ]
                },
                {
                    "Fn::Or": [
                        {
                            "Fn::Equals": [
                                {
                                    "Ref": "AWS::Region"
                                },
                                "eu-central-1"
                            ]
                        },
                        {
                            "Fn::Equals": [
                                {
                                    "Ref": "AWS::Region"
                                },
                                "eu-north-1"
                            ]
                        },
                        {
                            "Fn::Equals": [
                                {
                                    "Ref": "AWS::Region"
                                },
                                "eu-south-1"
                            ]
                        },
                        {
                            "Fn::Equals": [
                                {
                                    "Ref": "AWS::Region"
                                },
                                "eu-west-1"
                            ]
                        },
                        {
                            "Fn::Equals": [
                                {
                                    "Ref": "AWS::Region"
                                },
                                "eu-west-2"
                            ]
                        },
                        {
                            "Fn::Equals": [
                                {
                                    "Ref": "AWS::Region"
                                },
                                "eu-west-3"
                            ]
                        },
                        {
                            "Fn::Equals": [
                                {
                                    "Ref": "AWS::Region"
                                },
                                "me-south-1"
                            ]
                        },
                        {
                            "Fn::Equals": [
                                {
                                    "Ref": "AWS::Region"
                                },
                                "sa-east-1"
                            ]
                        },
                        {
                            "Fn::Equals": [
                                {
                                    "Ref": "AWS::Region"
                                },
                                "us-east-1"
                            ]
                        },
                        {
                            "Fn::Equals": [
                                {
                                    "Ref": "AWS::Region"
                                },
                                "us-east-2"
                            ]
                        }
                    ]
                },
                {
                    "Fn::Or": [
                        {
                            "Fn::Equals": [
                                {
                                    "Ref": "AWS::Region"
                                },
                                "us-west-1"
                            ]
                        },
                        {
                            "Fn::Equals": [
                                {
                                    "Ref": "AWS::Region"
                                },
                                "us-west-2"
                            ]
                        }
                    ]
                }
            ]
        }
    },
    "Metadata": {
        "AWS::CloudFormation::Designer": {
            "ae4d02d6-8f17-4633-a053-848534034fac": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 920,
                    "y": -90
                },
                "z": 1,
                "embeds": []
            },
            "ff5bd5b3-541c-4fd4-850b-2f404dcfe375": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 1080,
                    "y": -100
                },
                "z": 1,
                "embeds": []
            },
            "95b25587-496b-42d7-9f12-2e1566a3cfc2": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 1030,
                    "y": 20
                },
                "z": 1,
                "embeds": []
            },
            "0761706c-e351-4a08-9139-9acebf5b668f": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 1230,
                    "y": 20
                },
                "z": 1,
                "embeds": []
            },
            "5e41dc6f-0927-4f11-9a23-0687671601c0": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 1200,
                    "y": -100
                },
                "z": 1,
                "embeds": []
            },
            "8da7b783-0871-4883-a590-9c8e79d2fb10": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 1220,
                    "y": 230
                },
                "z": 1,
                "embeds": []
            },
            "e75a5879-4605-4400-8ec9-f803669e4ce5": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 1220,
                    "y": 130
                },
                "z": 1,
                "embeds": [],
                "isassociatedwith": [
                    "8da7b783-0871-4883-a590-9c8e79d2fb10"
                ]
            },
            "9de8bd9f-9057-4b0d-ba90-269ea7bfa59b": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 1220,
                    "y": 340
                },
                "z": 1,
                "embeds": [],
                "isassociatedwith": [
                    "8da7b783-0871-4883-a590-9c8e79d2fb10"
                ]
            },
            "dee11333-bd13-4f87-ae02-10e507a40f1a": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 770,
                    "y": 130
                },
                "z": 1,
                "embeds": []
            },
            "7e124912-87dc-463c-b680-9bbeb9e2b9cd": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 670,
                    "y": 230
                },
                "z": 1,
                "embeds": [],
                "isassociatedwith": [
                    "dee11333-bd13-4f87-ae02-10e507a40f1a"
                ]
            },
            "4778c65c-9700-4ff1-9b8f-227fd0a1fe2f": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 160,
                    "y": 70
                },
                "z": 1,
                "embeds": []
            },
            "c7206e5e-23a6-4020-be81-f11f3bd00086": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 290,
                    "y": 180
                },
                "z": 1,
                "embeds": [],
                "isassociatedwith": [
                    "4778c65c-9700-4ff1-9b8f-227fd0a1fe2f"
                ]
            },
            "26a3c88f-53f6-4b3a-8d58-a1077640dc0d": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 1040,
                    "y": 270
                },
                "z": 1,
                "embeds": []
            },
            "aa85cab7-150f-4036-8fa9-6bfc3e18ffe3": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 400,
                    "y": 60
                },
                "z": 1,
                "embeds": []
            },
            "0a09c0ce-5319-402e-bb63-f694b7f6c761": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 560,
                    "y": -70
                },
                "z": 1,
                "embeds": []
            },
            "39f145d4-4eb3-4a58-8087-33f402ce53a8": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 510,
                    "y": 500
                },
                "z": 1,
                "embeds": []
            },
            "973fa635-9110-4120-8f79-40f33b9f4691": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 400,
                    "y": 500
                },
                "z": 1,
                "embeds": []
            },
            "91b5f1af-73e1-49c6-97e4-66ac0e88608e": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 560,
                    "y": 30
                },
                "z": 1,
                "embeds": []
            },
            "661a238b-502e-42b6-bf7e-63037e6bf9e5": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 290,
                    "y": 630
                },
                "z": 1,
                "embeds": [],
                "isassociatedwith": [
                    "973fa635-9110-4120-8f79-40f33b9f4691"
                ]
            },
            "9efa5718-7770-483a-ac04-e5692f0c8483": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 180,
                    "y": 500
                },
                "z": 1,
                "embeds": []
            },
            "7ac6a498-e755-419f-80fc-c6584fefdd35": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 870,
                    "y": 240
                },
                "z": 1,
                "embeds": [],
                "isassociatedwith": [
                    "dee11333-bd13-4f87-ae02-10e507a40f1a"
                ]
            },
            "e86f7de0-0481-4253-bab1-15f076315b99": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 30,
                    "y": 180
                },
                "z": 1,
                "embeds": [],
                "isassociatedwith": [
                    "4778c65c-9700-4ff1-9b8f-227fd0a1fe2f"
                ]
            },
            "193eaf8c-1362-4d84-aab3-29dde449fc83": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 1120,
                    "y": 390
                },
                "z": 1,
                "embeds": [],
                "isassociatedwith": [
                    "26a3c88f-53f6-4b3a-8d58-a1077640dc0d"
                ]
            },
            "ebcae053-a046-451b-a24d-96ff1485d043": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 1020,
                    "y": 390
                },
                "z": 1,
                "embeds": [],
                "dependson": [
                    "193eaf8c-1362-4d84-aab3-29dde449fc83"
                ]
            },
            "0dc2a060-34c4-48fe-86cf-d2a66c63b520": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 1040,
                    "y": 490
                },
                "z": 1,
                "embeds": []
            },
            "dad1f13a-beeb-495d-b0a0-fc87387570dd": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 770,
                    "y": 260
                },
                "z": 1,
                "embeds": [],
                "dependson": [
                    "7ac6a498-e755-419f-80fc-c6584fefdd35",
                    "7e124912-87dc-463c-b680-9bbeb9e2b9cd"
                ]
            },
            "6790e3c5-fad7-40f2-8b8e-2634532c8fe9": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 760,
                    "y": -90
                },
                "z": 1,
                "embeds": []
            },
            "63b8796f-f6bc-47cf-b2d7-2ea0e3294cd0": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 710,
                    "y": 400
                },
                "z": 1,
                "embeds": [],
                "isassociatedwith": [
                    "dad1f13a-beeb-495d-b0a0-fc87387570dd"
                ],
                "dependson": [
                    "7ac6a498-e755-419f-80fc-c6584fefdd35",
                    "7e124912-87dc-463c-b680-9bbeb9e2b9cd",
                    "dee11333-bd13-4f87-ae02-10e507a40f1a"
                ]
            },
            "708e44ac-fb26-4cde-86c6-20d2b13a741f": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 830,
                    "y": 410
                },
                "z": 1,
                "embeds": [],
                "dependson": [
                    "7ac6a498-e755-419f-80fc-c6584fefdd35",
                    "7e124912-87dc-463c-b680-9bbeb9e2b9cd",
                    "dee11333-bd13-4f87-ae02-10e507a40f1a"
                ]
            },
            "5d8054df-fb27-4023-a27a-f1efd01bbccf": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 160,
                    "y": 180
                },
                "z": 1,
                "embeds": [],
                "dependson": [
                    "e86f7de0-0481-4253-bab1-15f076315b99",
                    "c7206e5e-23a6-4020-be81-f11f3bd00086"
                ]
            },
            "0c5d1abb-a15d-4b48-85d6-ded2059c72cd": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 790,
                    "y": 590
                },
                "z": 1,
                "embeds": []
            },
            "7ee41c52-dc7d-439f-9878-bba49de12439": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 70,
                    "y": 330
                },
                "z": 1,
                "embeds": [],
                "isassociatedwith": [
                    "5d8054df-fb27-4023-a27a-f1efd01bbccf"
                ],
                "dependson": [
                    "e86f7de0-0481-4253-bab1-15f076315b99",
                    "c7206e5e-23a6-4020-be81-f11f3bd00086",
                    "4778c65c-9700-4ff1-9b8f-227fd0a1fe2f"
                ]
            },
            "148235e8-f176-49a5-84a6-05f9fc571432": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 160,
                    "y": 330
                },
                "z": 1,
                "embeds": [],
                "dependson": [
                    "e86f7de0-0481-4253-bab1-15f076315b99",
                    "c7206e5e-23a6-4020-be81-f11f3bd00086",
                    "4778c65c-9700-4ff1-9b8f-227fd0a1fe2f"
                ]
            },
            "20dffad7-3f10-45ab-9b70-d1028cafe5f9": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 400,
                    "y": 180
                },
                "z": 1,
                "embeds": [],
                "isassociatedwith": [
                    "aa85cab7-150f-4036-8fa9-6bfc3e18ffe3"
                ]
            },
            "69d94f3d-f614-4c8d-8d3b-87fd68da4476": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 70,
                    "y": 600
                },
                "z": 1,
                "embeds": [],
                "isassociatedwith": [
                    "9efa5718-7770-483a-ac04-e5692f0c8483"
                ]
            },
            "30f60735-c5ee-4ee3-aee6-50b8530688bf": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 600,
                    "y": 640
                },
                "z": 1,
                "embeds": [],
                "isassociatedwith": [
                    "39f145d4-4eb3-4a58-8087-33f402ce53a8"
                ]
            },
            "d68f249d-6175-449b-8c51-770a0e3d22f5": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": -190,
                    "y": 180
                },
                "z": 0,
                "embeds": [],
                "dependson": [
                    "eee68834-3f76-48f7-a5a3-ec37e9099a87",
                    "f82b1072-569b-4231-a92a-70d583fdcb29"
                ]
            },
            "028134e2-76d4-4ce4-95f1-648ac49f1256": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": -190,
                    "y": 70
                },
                "z": 0,
                "embeds": []
            },
            "eee68834-3f76-48f7-a5a3-ec37e9099a87": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": -80,
                    "y": 180
                },
                "z": 0,
                "embeds": []
            },
            "a94d7380-5555-408a-9485-88fc0443dec0": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": -310,
                    "y": 300
                },
                "z": 0,
                "embeds": [],
                "dependson": [
                    "028134e2-76d4-4ce4-95f1-648ac49f1256",
                    "eee68834-3f76-48f7-a5a3-ec37e9099a87",
                    "d68f249d-6175-449b-8c51-770a0e3d22f5"
                ]
            },
            "f82b1072-569b-4231-a92a-70d583fdcb29": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": -310,
                    "y": 180
                },
                "z": 0,
                "embeds": []
            },
            "3d9cf3d0-a03f-41b7-8a51-162cec5c8e2c": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": -200,
                    "y": 350
                },
                "z": 0,
                "embeds": [],
                "dependson": [
                    "f82b1072-569b-4231-a92a-70d583fdcb29",
                    "028134e2-76d4-4ce4-95f1-648ac49f1256",
                    "eee68834-3f76-48f7-a5a3-ec37e9099a87"
                ]
            },
            "37fafb78-7c38-4bac-a875-84b9dac05a95": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": -590,
                    "y": 70
                },
                "z": 0,
                "embeds": []
            },
            "dfc27c13-5cc6-4bd6-91d1-ac122121ef39": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": -470,
                    "y": 180
                },
                "z": 0,
                "embeds": [],
                "isassociatedwith": [
                    "37fafb78-7c38-4bac-a875-84b9dac05a95"
                ]
            },
            "65931109-3047-474b-be3f-04f1802ea01d": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": -660,
                    "y": 190
                },
                "z": 0,
                "embeds": [],
                "dependson": [
                    "a32440e1-4153-4b1d-ab3a-1fe98111a6ba",
                    "dfc27c13-5cc6-4bd6-91d1-ac122121ef39"
                ]
            },
            "a32440e1-4153-4b1d-ab3a-1fe98111a6ba": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": -780,
                    "y": 110
                },
                "z": 0,
                "embeds": [],
                "isassociatedwith": [
                    "4778c65c-9700-4ff1-9b8f-227fd0a1fe2f",
                    "37fafb78-7c38-4bac-a875-84b9dac05a95"
                ]
            },
            "19c13c7d-bceb-4c8d-b4b6-e3d4cbb3cba9": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": -490,
                    "y": 320
                },
                "z": 0,
                "embeds": [],
                "dependson": [
                    "dfc27c13-5cc6-4bd6-91d1-ac122121ef39",
                    "a32440e1-4153-4b1d-ab3a-1fe98111a6ba",
                    "37fafb78-7c38-4bac-a875-84b9dac05a95"
                ]
            },
            "0914e572-758f-480c-91e8-e97ea8341822": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": -740,
                    "y": 300
                },
                "z": 0,
                "embeds": [],
                "isassociatedwith": [
                    "d68f249d-6175-449b-8c51-770a0e3d22f5"
                ],
                "dependson": [
                    "37fafb78-7c38-4bac-a875-84b9dac05a95",
                    "dfc27c13-5cc6-4bd6-91d1-ac122121ef39",
                    "65931109-3047-474b-be3f-04f1802ea01d"
                ]
            },
            "3e5f4395-3d94-4ac4-946e-1b7ed17543c7": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": -600,
                    "y": 440
                },
                "z": 0,
                "embeds": []
            },
            "fcf42383-3d88-426d-9d33-002fd4ac11e0": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": -600,
                    "y": 520
                },
                "z": 0,
                "embeds": [],
                "isassociatedwith": [
                    "3e5f4395-3d94-4ac4-946e-1b7ed17543c7"
                ]
            }
        }
    }
}